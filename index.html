---
layout: default
title: æˆ‘çš„éƒ¨è½æ ¼
---
<div class="container two-col">

  <!-- å·¦å´ï¼šåˆ†é¡å´æ¬„ -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <span class="sidebar-title">åˆ†é¡</span>
      <button class="sidebar-toggle" aria-label="Toggle sidebar">â˜°</button>
    </div>

    <nav class="sidebar-nav">
      <a href="#tag=__all__" data-tag="__all__" class="cat-link active">å…¨éƒ¨æ–‡ç« </a>

      {%- comment -%}
      å‹•æ…‹è’é›†æ‰€æœ‰ tagsï¼ˆé‡å°è‡ªè¨‚ collection: site.articlesï¼‰
      {%- endcomment -%}
      {% assign _tags_blob = "" %}
      {% for a in site.articles %}
        {% if a.tags %}
          {% for t in a.tags %}
            {% assign _tags_blob = _tags_blob | append: t | append: "||" %}
          {% endfor %}
        {% endif %}
      {% endfor %}
      {% assign _tags = _tags_blob | split: "||" | sort %}

      {%- comment -%}
      å»é‡ï¼šç”¨ prev è¨˜éŒ„ä¸Šä¸€å€‹ tagï¼Œè‹¥ç›¸åŒå‰‡è·³é
      {%- endcomment -%}
      {% assign _prev = "" %}
      {% for t in _tags %}
        {% if t != "" and t != _prev %}
          <a href="#tag={{ t | uri_escape }}" data-tag="{{ t }}" class="cat-link">{{ t }}</a>
          {% assign _prev = t %}
        {% endif %}
      {% endfor %}
    </nav>
  </aside>

  <!-- å³å´ï¼šä¸»å…§å®¹ -->
  <main class="main">

    <div class="header">
      <div>
        <div class="brand">{{ site.title }}</div>
        <div class="desc">{{ site.description }}</div>
      </div>
    </div>

    <!-- ä½œè€…ä»‹ç´¹ -->
    <div class="about">
      <img src="{{ '/assets/img/profile.jpg' | relative_url }}" alt="ä½œè€…ç…§ç‰‡">
      <div class="about-text">
        <h2>é—œæ–¼æˆ‘</h2>
        <p>
          å“ˆå›‰ï¼æˆ‘æ˜¯æŸæŸï¼Œä¸€å€‹å–œæ­¡é–±è®€ã€å¯«ä½œèˆ‡ç¨‹å¼è¨­è¨ˆçš„æ–‡é’ç³»ç ”ç©¶ç”Ÿã€‚<br>
          é€™è£¡ç´€éŒ„æˆ‘çš„éš¨ç­†ã€ç ”ç©¶å’Œç”Ÿæ´»å¿ƒå¾—ï¼Œå¸Œæœ›é€éæ–‡å­—èˆ‡æ›´å¤šäººäº¤æµ ğŸŒ¿
        </p>
      </div>
    </div>

    <!-- å¡ç‰‡æ–¹æ ¼ -->
    <div id="cards" class="grid">
      {% assign items = site.articles | sort: 'title' %}
      {% for article in items %}
      <a class="card"
         href="{{ article.url | relative_url }}"
         data-tags="{% if article.tags %}{{ article.tags | join: ',' }}{% endif %}">
        {% if article.tags and article.tags.size > 0 %}
          <div class="meta">
            <span class="badge">{{ article.tags | first }}</span>
          </div>
        {% endif %}
        <h3>{{ article.title }}</h3>
        <p>
          {% if article.excerpt %}
            {{ article.excerpt | strip_html | strip_newlines | truncate: 90 }}
          {% else %}
            {{ article.content | strip_html | strip_newlines | truncate: 90 }}
          {% endif %}
        </p>
      </a>
      {% endfor %}
    </div>

  </main>
</div>

<script>
(function(){
  const ALL = "__all__";
  const links = Array.from(document.querySelectorAll(".cat-link"));
  const cards = Array.from(document.querySelectorAll(".card"));
  const toggleBtn = document.querySelector(".sidebar-toggle");
  const sidebar = document.querySelector(".sidebar");

  function applyFilter(tag){
    // æ¨™è¨˜ active
    links.forEach(a => a.classList.toggle("active", a.dataset.tag === tag));
    // é¡¯ç¤º/éš±è—å¡ç‰‡
    cards.forEach(card => {
      const tags = (card.getAttribute("data-tags") || "").split(",").map(s => s.trim()).filter(Boolean);
      const show = (tag === ALL) || tags.includes(tag);
      card.style.display = show ? "" : "none";
    });
  }

  // è®€å–ç¶²å€ hashï¼ˆ#tag=xxxï¼‰
  function getTagFromHash(){
    const m = location.hash.match(/#tag=(.+)$/);
    return m ? decodeURIComponent(m[1]) : ALL;
  }

  // åˆå§‹èˆ‡ hash è®Šæ›´
  window.addEventListener("hashchange", () => applyFilter(getTagFromHash()));
  applyFilter(getTagFromHash());

  // æ‰‹æ©Ÿæ”¶åˆå´æ¬„
  if (toggleBtn && sidebar){
    toggleBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
    });
  }
})();
</script>
